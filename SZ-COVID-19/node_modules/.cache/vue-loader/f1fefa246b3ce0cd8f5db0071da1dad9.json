{"remainingRequest":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yujiahao/Downloads/visual_work/SZ-COVID-19/src/page/comparison/components/playerB.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/src/page/comparison/components/playerB.vue","mtime":1619097894089},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/cache-loader/dist/cjs.js","mtime":1617788517390},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/babel-loader/lib/index.js","mtime":1617788517170},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/cache-loader/dist/cjs.js","mtime":1617788517390},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/vue-loader/lib/index.js","mtime":1617788568833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vaW1wb3J0IF8gZnJvbSAnbG9kYXNoJwovL2ltcG9ydCBQYXJ0SlNPTiBmcm9tICdAL2RhdGEvcGFydCcKLy9pbXBvcnQgU2NhdHRlciBmcm9tICcuL3NjYXR0ZXInCmltcG9ydCBldmVudEJ1cyBmcm9tICcuLi9ldmVudEJ1cycKLy9pbXBvcnQgeyBleHRlbnQgfSBmcm9tICdkMycKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMaXN0JywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcGxheWVyX2I6IFtdLAogICAgICAgICAgICBtYXRjaExpc3Q6IFtdLAogICAgICAgICAgICB3aW5fcmF0ZTogMCwKICAgICAgICAgICAgYmxhY2tfd2luX3JhdGU6IDAsCiAgICAgICAgICAgIHdoaXRlX3dpbl9yYXRlOiAwLAogICAgICAgICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdERhdGEoKSB7CiAgICAgICAgICAgIGV2ZW50QnVzLiRvbigncGxheWVyX2NvbXBhcmVfaW5mbycsKHtwbGF5ZXJfYSxwbGF5ZXJfYn0pPT57CiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcl9hPXBsYXllcl9hOwogICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJfYj1wbGF5ZXJfYjsKICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hMaXN0PVtdOwogICAgICAgICAgICAgICAgdmFyIGJsX3dpbj0wOwogICAgICAgICAgICAgICAgdmFyIHdoX3dpbj0wOwogICAgICAgICAgICAgICAgdmFyIGJsX251bT0wOwogICAgICAgICAgICAgICAgdmFyIHdoX251bT0wOwogICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGxheWVyX2IubWF0Y2hfbGlzdC5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyX2IubWF0Y2hfbGlzdFtpXS5vcHBvbmVudF9uYW1lPT10aGlzLnBsYXllcl9hLm5hbWVfemgpewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByX2luZm89dGhpcy5wbGF5ZXJfYi5tYXRjaF9saXN0W2ldLnJlc3VsdF9pbmZvCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyX2luZm89PSdSJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcl9iLm1hdGNoX2xpc3RbaV0ucmVzdWx0X2luZm89J+S4reebmCc7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCFpc05hTihOdW1iZXIocl9pbmZvKSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJfYi5tYXRjaF9saXN0W2ldLnJlc3VsdF9pbmZvPXJfaW5mbysn55uuJzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoTGlzdC5wdXNoKHRoaXMucGxheWVyX2IubWF0Y2hfbGlzdFtpXSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyX2IubWF0Y2hfbGlzdFtpXS5teV9jb2xvcj09IuaJp+m7kSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnBsYXllcl9iLm1hdGNoX2xpc3RbaV0ubXlfcmVzdWx0PT0i6IOcIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBibF93aW4rPTE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgYmxfbnVtKz0xOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMucGxheWVyX2IubWF0Y2hfbGlzdFtpXS5teV9jb2xvcj09IuaJp+eZvSIpewogICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnBsYXllcl9iLm1hdGNoX2xpc3RbaV0ubXlfcmVzdWx0PT0i6IOcIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aF93aW4rPTE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgd2hfbnVtKz0xOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRvUGVyY2VudChwb2ludCkgewogICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSBOdW1iZXIocG9pbnQgKiAxMDApLnRvRml4ZWQoMik7CiAgICAgICAgICAgICAgICAgICAgc3RyICs9ICIlIjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy53aW5fcmF0ZT10b1BlcmNlbnQoKHdoX3dpbitibF93aW4pL3RoaXMucGxheWVyX2IubWF0Y2hfbGlzdC5sZW5ndGgpOwogICAgICAgICAgICAgICAgdGhpcy5ibGFja193aW5fcmF0ZT10b1BlcmNlbnQoYmxfd2luL2JsX251bSk7CiAgICAgICAgICAgICAgICB0aGlzLndoaXRlX3dpbl9yYXRlPXRvUGVyY2VudCh3aF93aW4vd2hfbnVtKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgfQp9Cg=="},{"version":3,"sources":["playerB.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"playerB.vue","sourceRoot":"src/page/comparison/components","sourcesContent":["<template>\n    <div class=\"table-container\" ref=\"container\">\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" class=\"tab\">\n            <el-tab-pane label=\"个人信息\" name=\"first\" class=\"tab-item1\">\n                <ul>\n                    <li>姓名：{{player_b.name_zh}}</li>\n                    <li>性别：{{player_b.sex}}</li>\n                    <li>地区：{{player_b.country}}</li>\n                    <li>对局数：{{player_b.match_list.length}}</li>\n                    <li>胜率：{{win_rate}}</li>\n                    <li>执黑胜率：{{black_win_rate}}</li>\n                    <li>执白胜率：{{white_win_rate}}</li>\n                </ul>\n            </el-tab-pane>\n            <el-tab-pane label=\"对局信息\" name=\"second\" class=\"tab-item2\">\n                <ul>\n                    <li v-for=\"item in matchList\" \n                        v-bind:key=\"item\">\n                            <div style=\"width: 70%\">{{item.match_name}}</div>\n                            <div>{{item.my_color}}</div>\n                            <div>{{item.my_result}}</div>\n                            <div>{{item.result_info}}</div>\n                    </li>\n                </ul>\n            </el-tab-pane>\n        </el-tabs>\n    </div>\n    \n</template>\n\n<script>\n    //import _ from 'lodash'\n    //import PartJSON from '@/data/part'\n    //import Scatter from './scatter'\n    import eventBus from '../eventBus'\n    //import { extent } from 'd3'\n\n    export default {\n        name: 'List',\n        data() {\n            return {\n                player_b: [],\n                matchList: [],\n                win_rate: 0,\n                black_win_rate: 0,\n                white_win_rate: 0,\n                activeName: 'first',\n            }\n        },\n        methods: {\n            initData() {\n                eventBus.$on('player_compare_info',({player_a,player_b})=>{\n                    this.player_a=player_a;\n                    this.player_b=player_b;\n                    this.matchList=[];\n                    var bl_win=0;\n                    var wh_win=0;\n                    var bl_num=0;\n                    var wh_num=0;\n                    for(var i = 0; i < this.player_b.match_list.length; i++){\n                        if (this.player_b.match_list[i].opponent_name==this.player_a.name_zh){\n                            const r_info=this.player_b.match_list[i].result_info\n                            if (r_info=='R'){\n                                this.player_b.match_list[i].result_info='中盘';\n                            }else if(!isNaN(Number(r_info))){\n                                this.player_b.match_list[i].result_info=r_info+'目';\n                            }\n                            this.matchList.push(this.player_b.match_list[i])\n                        }\n                        if (this.player_b.match_list[i].my_color==\"执黑\"){\n                            if(this.player_b.match_list[i].my_result==\"胜\"){\n                                bl_win+=1;\n                            }\n                            bl_num+=1;\n                        }else if(this.player_b.match_list[i].my_color==\"执白\"){\n                            if(this.player_b.match_list[i].my_result==\"胜\"){\n                                wh_win+=1;\n                            }\n                            wh_num+=1;\n                        }\n                    }\n                    function toPercent(point) {\n                        var str = Number(point * 100).toFixed(2);\n                        str += \"%\";\n                        return str;\n                    }\n                    this.win_rate=toPercent((wh_win+bl_win)/this.player_b.match_list.length);\n                    this.black_win_rate=toPercent(bl_win/bl_num);\n                    this.white_win_rate=toPercent(wh_win/wh_num);\n                });\n            }\n        },\n        mounted() {\n            this.initData();\n        }\n    }\n</script>\n\n<style lang=\"less\">\n    .table-container{\n        height: 100%;\n        width: 100%;\n        .tab{\n            color: #727171;\n            width: 100%;\n            .tab-item1{\n                width: 100%;\n                display: inline-block;\n                color: #C8291C;\n                ul {\n                    padding-left: 0;\n                    color: #aaa;\n                    list-style-type: none;\n                    font-size: 14px;\n                    li {\n                        display: flex;\n                        justify-content: space-between;\n                        border-bottom: 1px dotted #224ac0;\n                        line-height: 2.5em;\n                        span:nth-last-child(1) {\n                            margin-right: 10px;\n                        }\n                    }\n                }\n            }\n            .tab-item2{\n                width: 100%;\n                display: inline-block;\n                color: #C8291C;\n                ul {\n                    padding-left: 0;\n                    color: #aaa;\n                    list-style-type: none;\n                    font-size: 14px;\n                    li {\n                        display: flex;\n                        justify-content: space-between;\n                        border-bottom: 1px dotted #224ac0;\n                        line-height: 2.5em;\n                        span:nth-last-child(1) {\n                            margin-right: 10px;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</style>"]}]}