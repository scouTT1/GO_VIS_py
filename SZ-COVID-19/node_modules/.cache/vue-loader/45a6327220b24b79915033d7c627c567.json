{"remainingRequest":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/yujiahao/Downloads/visual_work/SZ-COVID-19/src/page/ranking/components/sankey.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/src/page/ranking/components/sankey.vue","mtime":1619230402763},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/cache-loader/dist/cjs.js","mtime":1617788517390},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/babel-loader/lib/index.js","mtime":1617788517170},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/cache-loader/dist/cjs.js","mtime":1617788517390},{"path":"/home/yujiahao/Downloads/visual_work/SZ-COVID-19/node_modules/vue-loader/lib/index.js","mtime":1617788568833}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCcKaW1wb3J0IGVjaGFydHMgZnJvbSAnZWNoYXJ0cy9saWIvZWNoYXJ0cyc7CmltcG9ydCAnZWNoYXJ0cy9saWIvY2hhcnQvc2Fua2V5JwppbXBvcnQgVHJhY2tKU09OIGZyb20gJ0AvZGF0YS90cmFjaycKLy8gaW1wb3J0IHsgc2NhbGVMaW5lYXIgfSBmcm9tICdkMycKY29uc29sZS5sb2coImZhc2RmYXNkZnNkZiIpCi8qCndpbmRvdy5vbmxvYWQ9ZnVuY3Rpb24oKXsKICAgIHZhciB1cmw9Ii4vaGlzdG9yeV9yYW5raW5nLmpzb24iOwogICAgdmFyIHJlcXVlc3Q9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICByZXF1ZXN0Lm9wZW4oImdldCIsdXJsKTsKICAgIHJlcXVlc3Quc2VuZChudWxsKTsKICAgIHJlcXVlc3Qub25sb2FkPWZ1bmN0aW9uKCl7CiAgICAgICAgaWYocmVxdWVzdC5zdGF0dXM9PTIwMCl7CiAgICAgICAgICAgIHZhciBqc29uPUpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhqc29uKQogICAgICAgIH0KICAgIH0KCn0qLwppbXBvcnQgaGlzdG9yeV9yYW5raW5nIGZyb20gIi4vaGlzdG9yeV9yYW5raW5nLmpzb24iCgovKmpzb27mlofku7Z1cmzvvIzmnKzlnLDnmoTlsLHlhpnmnKzlnLDnmoTkvY3nva7vvIzlpoLmnpzmmK/mnI3liqHlmajnmoTlsLHlhpnmnI3liqHlmajnmoTot6/lvoQqLwovL2NvbnNvbGUubG9nKGhpc3RvcnlfcmFua2luZykKCnZhciBDSGxpc3Q9WzQyXTsKdmFyIEpQbGlzdD1bNDJdOwp2YXIgS09saXN0PVs0Ml07CnZhciBPVGxpc3Q9WzQzXTsKdmFyIGk7CmZvcih2YXIganMgaW4gaGlzdG9yeV9yYW5raW5nKXsKICAgIHZhciB0ZW1wbGlzdD1oaXN0b3J5X3JhbmtpbmdbanNdOwogICAgdmFyIENIPTA7CiAgICB2YXIgSlA9MDsKICAgIHZhciBLTz0wOwogICAgZm9yKGk9MDtpPHRlbXBsaXN0Lmxlbmd0aDtpKyspewogICAgICAgIGlmKHRlbXBsaXN0W2ldLmNvdW50cnk9PSLml6XmnKwiKXsKICAgICAgICAgICAgSlA9SlArMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZih0ZW1wbGlzdFtpXS5jb3VudHJ5PT0i5Lit5Zu9Iil7CiAgICAgICAgICAgIENIPUNIKzE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYodGVtcGxpc3RbaV0uY291bnRyeT09IumfqeWbvSIpewogICAgICAgICAgICBLTz1LTysxOwogICAgICAgIH0KICAgIH0KICAgIENIbGlzdFtwYXJzZUludChqcyktMTk4MF09Q0g7CiAgICBKUGxpc3RbcGFyc2VJbnQoanMpLTE5ODBdPUpQOwogICAgS09saXN0W3BhcnNlSW50KGpzKS0xOTgwXT1LTzsKICAgIE9UbGlzdFtwYXJzZUludChqcyktMTk4MF09MTAwLUNILUpQLUtPOwoKfQovL2NvbnNvbGUubG9nKENIbGlzdCkKLy9jb25zb2xlLmxvZyhKUGxpc3QpCi8vY29uc29sZS5sb2coS09saXN0KQovL2NvbnNvbGUubG9nKE9UbGlzdCkKLy92YXIgdHRsaXN0PVtdOwp2YXIgVGltZUxpc3Q9WzQyXTsKZm9yKGk9MDtpPDQyO2krKyl7CiAgICBUaW1lTGlzdFtpXT0oaSsxOTgwKS50b1N0cmluZygpKyItMDEtMDEiOwp9Ci8vY29uc29sZS5sb2coVGltZUxpc3QpCnZhciBkYXRhTGlzdD1bW11dOwovL3ZhciBudW09MDsKZm9yKGk9MDtpPDQyO2krKyl7CiAgICB2YXIgdHRsaXN0PVtdOwogICAgdHRsaXN0WzBdPVRpbWVMaXN0W2ldOwogICAgdHRsaXN0WzFdPUNIbGlzdFtpXTsKICAgIHR0bGlzdFsyXT0i5Lit5Zu9IjsKICAgIGRhdGFMaXN0W2ldPXR0bGlzdDsKICAgIAp9CmZvcihpPTA7aTw0MjtpKyspewogICAKICAgIHR0bGlzdFswXT1UaW1lTGlzdFtpXTsKICAgIHR0bGlzdFsxXT1KUGxpc3RbaV07CiAgICB0dGxpc3RbMl09IuaXpeacrCI7CiAgICBkYXRhTGlzdFtpKzQyXT10dGxpc3Q7CiAgICAKfQpmb3IoaT0wO2k8NDI7aSsrKXsKICAgIAogICAgdHRsaXN0WzBdPVRpbWVMaXN0W2ldOwogICAgdHRsaXN0WzFdPUtPbGlzdFtpXTsKICAgIHR0bGlzdFsyXT0i6Z+p5Zu9IjsKICAgIGRhdGFMaXN0W2krODRdPXR0bGlzdDsKICAgIAp9CmZvcihpPTA7aTw0MjtpKyspewogICAKICAgIHR0bGlzdFswXT1UaW1lTGlzdFtpXTsKICAgIHR0bGlzdFsxXT1PVGxpc3RbaV07CiAgICB0dGxpc3RbMl09IuWFtuS7liI7CiAgICBkYXRhTGlzdFtpKzEyNl09dHRsaXN0OwogICAgCn0KY29uc29sZS5sb2coZGF0YUxpc3QpOwpjb25zdCBESU0gPSBbJ2FnZV9yYW5nZScsICd4YicsJ3BlcmlvZCcsJ29yaWdpbicsICd0cmFuJywgXQpjb25zdCBJVEVNX1NUWUxFID0gewogICAgeGIoKXsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAn55S3JzogewogICAgICAgICAgICAgICAgY29sb3I6ICcjM2E3YmE1JywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ+Wlsyc6IHsKICAgICAgICAgICAgICAgIGNvbG9yOiAnIzlkNGRhNycsCiAgICAgICAgICAgIH0sCiAgICAgICAgfQogICAgfQp9Cgpjb25zdCBUUkFOX09SREVSID0gewogICAgJ+engeWuti/kuJPovaYnOiAwLAogICAgJ+WHuuenn+i9pic6IDEsCiAgICAnM0ExMDnoiKroiLknOiAyLAogICAgJ+a3seWcs+a5vuWPo+WyuCc6IDMsCiAgICAn6Iiq56m6JzogNCwKICAgICfkuI3mmI4nOiA1LAp9Cgpjb25zdCBTT1JUX0ZVTiA9IHsKICAgICdhZ2VfcmFuZ2UnOiBkYXRhID0+IHsKICAgICAgICByZXR1cm4gXy5vcmRlckJ5KGRhdGEsIGQgPT4gewogICAgICAgICAgICBzd2l0Y2goZC5uYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlICflqbTlubzlhL8v6Z2S5bCR5bm0KDB+MTUpJzogcmV0dXJuIDAKICAgICAgICAgICAgICAgIGNhc2UgJ+mdkuW5tCgxNn4zMCknOiByZXR1cm4gMQogICAgICAgICAgICAgICAgY2FzZSAn5Lit6Z2S5bm0KDMwfjQ1KSc6IHJldHVybiAyCiAgICAgICAgICAgICAgICBjYXNlICfkuK3lubQoNDV+NjApJzogcmV0dXJuIDMKICAgICAgICAgICAgICAgIGNhc2UgJ+iAgeW5tCg+NjApJzogcmV0dXJuIDQKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9LAogICAgJ29yaWdpbic6IGRhdGEgPT4gewogICAgICAgIHJldHVybiBkYXRhLnNvcnQoYSA9PiBDT1VOVFJZLmluZGV4T2YoYS5uYW1lKSAhPT0gLTEgPyAxIDogLTEpCiAgICB9LAogICAgJ3RyYW4nOiBkYXRhID0+IHsKICAgICAgICByZXR1cm4gXy5vcmRlckJ5KGRhdGEsIGQgPT4gVFJBTl9PUkRFUltkLm5hbWVdKQogICAgfSwKICAgICdwZXJpb2QnOiBkYXRhID0+IHsKICAgICAgICByZXR1cm4gXy5vcmRlckJ5KGRhdGEsIGQgPT4gewogICAgICAgICAgICBzd2l0Y2goZC5uYW1lKSB7CiAgICAgICAgICAgICAgICBjYXNlICfnlqvmg4XliJ3mnJ8ofjEvMjMpJzogcmV0dXJuIDAKICAgICAgICAgICAgICAgIGNhc2UgJ+WPkeWxleacnygxLzIzfjIvNiknOiByZXR1cm4gMQogICAgICAgICAgICAgICAgY2FzZSAn5Zu95YaF5LqM5qyh5Lyg5pKt5pyfKDIvNn4yLzIwKSc6IHJldHVybiAyCiAgICAgICAgICAgICAgICBjYXNlICflm73lpJbovpPlhaXmnJ8oMi8yMH4pJzogcmV0dXJuIDMKICAgICAgICAgICAgfQogICAgICAgIH0pCiAgICB9Cn0KCmNvbnN0IENPVU5UUlkgPSBbIuW3tOilvyIsICLms5Xlm70iLCAi5p+s5Z+U5a+oIiwgIua+s+mXqCIsICLojbflhbAiLAogICAgIuiPsuW+i+WuviIsICLkv4TnvZfmlq8iLCAi5paw5Yqg5Z2hIiwgIuilv+ePreeJmSIsICLnkZ7lo6siLCAi5rOw5Zu9IiwKICAgICLoi7Hlm70iLCAi576O5Zu9Il0KCmNvbnN0IGdldEFnZUNhdGVnb3J5ID0gYWdlID0+IHsKICAgIGlmIChhZ2UgPj0gMCAmJiBhZ2UgPD0gMTUpIHsKICAgICAgICByZXR1cm4gJ+WptOW5vOWEvy/pnZLlsJHlubQoMH4xNSknCiAgICB9CiAgICBpZiAoYWdlID4gMTUgJiYgYWdlIDw9IDMwKSB7CiAgICAgICAgcmV0dXJuICfpnZLlubQoMTZ+MzApJwogICAgfQogICAgaWYgKGFnZSA+IDMwICYmIGFnZSA8PSA0NSkgewogICAgICAgIHJldHVybiAn5Lit6Z2S5bm0KDMwfjQ1KScKICAgIH0KICAgIGlmIChhZ2UgPiA0NSAmJiBhZ2UgPD0gNjApIHsKICAgICAgICByZXR1cm4gJ+S4reW5tCg0NX42MCknCiAgICB9CiAgICBpZiAoYWdlID4gNjApIHsKICAgICAgICByZXR1cm4gJ+iAgeW5tCg+NjApJwogICAgfQp9Cgpjb25zdCBDaGluYVBlcmlvZCA9IFsnMjAyMC8xLzIzJywgJzIwMjAvMi82JywgJzIwMjAvMi8yMCddCiAgICAubWFwKGQgPT4gbmV3IERhdGUoZCkuZ2V0VGltZSgpKQoKY29uc3QgZ2V0UGVyaW9kID0gZGF0ZSA9PiB7CiAgICBjb25zdCBuZXdEYXRlID0gbmV3IERhdGUoZGF0ZSkuZ2V0VGltZSgpCiAgICBpZiAobmV3RGF0ZSA8PSBDaGluYVBlcmlvZFswXSkgewogICAgICAgIHJldHVybiAn55ar5oOF5Yid5pyfKH4xLzIzKScKICAgIH0KICAgIGlmIChuZXdEYXRlID4gQ2hpbmFQZXJpb2RbMF0gJiYgbmV3RGF0ZSA8IENoaW5hUGVyaW9kWzFdKSB7CiAgICAgICAgcmV0dXJuICflj5HlsZXmnJ8oMS8yM34yLzYpJwogICAgfQogICAgaWYgKG5ld0RhdGUgPiBDaGluYVBlcmlvZFsxXSAmJiBuZXdEYXRlIDwgQ2hpbmFQZXJpb2RbMl0pIHsKICAgICAgICByZXR1cm4gJ+WbveWGheS6jOasoeS8oOaSreacnygyLzZ+Mi8yMCknCiAgICB9CiAgICBpZiAobmV3RGF0ZSA+PSBDaGluYVBlcmlvZFsyXSkgewogICAgICAgIHJldHVybiAn5Zu95aSW6L6T5YWl5pyfKDIvMjB+KScKICAgIH0KICAgIAp9CgovLyBjb25zdCBzY2FsZSA9IHNjYWxlTGluZWFyKCkKLy8gICAgIC5kb21haW4oWzEsIDIwMF0pCi8vICAgICAucmFuZ2UoWycjODdjYzdjJywgJyM5NjZkNGInLCcjOTM1NzQwJywgJyM2OTI3N2UnLCAnIzlkNGRhNyddKQoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1NhbktleScsCiAgICBtZXRob2RzOiB7CiAgICAgICAgZ2V0Tm9kZXMoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gRElNLnJlZHVjZSgoYXJyLCBrZXkpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IElURU1fU1RZTEVba2V5XSAmJiBJVEVNX1NUWUxFW2tleV0oKSB8fCB7fQogICAgICAgICAgICAgICAgbGV0IHRlbXBBcnIgPSAgXy5jaGFpbihkYXRhKQogICAgICAgICAgICAgICAgICAgIC5tYXAoZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkW2tleV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtU3R5bGU6IHN0eWxlc1tkW2tleV1dLAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAudW5pcUJ5KCduYW1lJykKICAgICAgICAgICAgICAgICAgICAudmFsdWUoKQogICAgICAgICAgICAgICAgICAgIHRlbXBBcnIgPSBTT1JUX0ZVTltrZXldID8gU09SVF9GVU5ba2V5XSh0ZW1wQXJyKSA6IHRlbXBBcnIKICAgICAgICAgICAgICAgIHJldHVybiBhcnIuY29uY2F0KHRlbXBBcnIpCiAgICAgICAgICAgIH0sIFtdKQogICAgICAgIH0sCiAgICAgICAgZ2V0TGlua3MoZGF0YSkgewogICAgICAgICAgICBjb25zdCBsaW5rcyA9IFtdOwogICAgICAgICAgICBESU0uZm9yRWFjaCgoZCwgaSwgYXJyKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gYXJyLmxlbmd0aCAtIDEpIHJldHVybgogICAgICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGQxID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBkMVtkXQogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGQxW2FycltpICsgMV1dCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhLmZpbHRlcihkMiA9PiBkMltkXSA9PT0gc291cmNlCiAgICAgICAgICAgICAgICAgICAgICAgICYmIGQyW2FycltpICsgMV1dID09PSB0YXJnZXQKICAgICAgICAgICAgICAgICAgICAgICAgKS5sZW5ndGgKICAgICAgICAgICAgICAgICAgICBsaW5rcy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLAogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQsCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbG9yOiBzY2FsZSh2YWx1ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICByZXR1cm4gXy51bmlxV2l0aChsaW5rcywgXy5pc0VxdWFsKQogICAgICAgIH0sCiAgICAgICAgaW5pdERhdGEoKSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBfLmNoYWluKFRyYWNrSlNPTikKICAgICAgICAgICAgICAgIC8vIC5zbGljZSgwLCA0MDApCiAgICAgICAgICAgICAgICAuZmlsdGVyKGQgPT4gZC50cmFjay5sZW5ndGgpCiAgICAgICAgICAgICAgICAubWFwKGQgPT4gewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHt0cmFjaywgbmx9ID0gZAogICAgICAgICAgICAgICAgICAgIGxldCB0cmFuID0gdHJhY2subGVuZ3RoID8gdHJhY2tbdHJhY2subGVuZ3RoIC0gMV0udHJhbiA6ICcnCiAgICAgICAgICAgICAgICAgICAgdHJhbiA9IHRyYW4uaW5kZXhPZign6Iiq54+tJykgIT09IC0xID8gJ+iIquepuicgOiB0cmFuCiAgICAgICAgICAgICAgICAgICAgdHJhbiA9IC8o56eB5a62KXwo6Ieq6am+KXwo5LiT6L2mKXwo5ZWG5Yqh6L2mKS8udGVzdCh0cmFuKSA/ICfnp4HlrrYv5LiT6L2mJyA6IHRyYW4KICAgICAgICAgICAgICAgICAgICB0cmFuID0gLyjnmoTlo6spfCjlh7rnp5/ovaYpLy50ZXN0KHRyYW4pID8gJ+WHuuenn+i9picgOiB0cmFuCiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWdlX3JhbmdlID0gZ2V0QWdlQ2F0ZWdvcnkoK25sKQogICAgICAgICAgICAgICAgICAgIHJldHVybiBfLnBpY2soewogICAgICAgICAgICAgICAgICAgICAgICAuLi5kLAogICAgICAgICAgICAgICAgICAgICAgICB0cmFuOiB0cmFuIHx8ICfkuI3mmI4nLAogICAgICAgICAgICAgICAgICAgICAgICBhZ2VfcmFuZ2UsCiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmlvZDogZ2V0UGVyaW9kKGQudHJhY2tbZC50cmFjay5sZW5ndGggLSAxXS50aW1lKQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgRElNCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC52YWx1ZSgpCiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2RhdGEnK2RhdGFbMF0pCiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gdGhpcy5nZXROb2RlcyhkYXRhKQogICAgICAgICAgICBjb25zdCBsaW5rcyA9IHRoaXMuZ2V0TGlua3MoZGF0YSkKICAgICAgICAgICAgY29uc29sZS5sb2coJ25vZGVzJytub2Rlc1swXSkKICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGEnK2RhdGFbMF0pCiAgICAgICAgICAgIHJldHVybiB7bm9kZXMsIGxpbmtzfQogICAgICAgIH0sCiAgICAgICAgaW5pdENoYXJ0KCkgewogICAgICAgICAgICAvL2NvbnN0IHsgbm9kZXMsIGxpbmtzIH0gPSB0aGlzLmluaXREYXRhKCkKICAgICAgICAgICAgCiAgICAgICAgICAgLyogY29uc3Qgb3B0aW9uID0gewogICAgICAgICAgICAgICAgY29sb3I6IFsnIzg3Y2M3YycsICcjOTY2ZDRiJywgJyM5MzU3NDAnLCAnIzY5Mjc3ZScsICcjOWQ0ZGE3J10sCiAgICAgICAgICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogIml0ZW0iLAogICAgICAgICAgICAgICAgICAgIHRyaWdnZXJPbjogIm1vdXNlbW92ZSIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzZXJpZXM6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAic2Fua2V5IiwKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAxMCwKICAgICAgICAgICAgICAgICAgICByaWdodDogNTAsCiAgICAgICAgICAgICAgICAgICAgbm9kZUdhcDogMSwKICAgICAgICAgICAgICAgICAgICBsYXlvdXRJdGVyYXRpb25zOiAwLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IG5vZGVzLCAvLyDoioLngrkKICAgICAgICAgICAgICAgICAgICBsaW5rczogbGlua3MsIC8vIOiKgueCueS5i+mXtOeahOi/nue6vwogICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZm9jdXNOb2RlQWRqYWNlbmN5OiAiYWxsRWRnZXMiLCAvLyDpvKDmoIfliJLkuIrml7bpq5jkuq7nmoToioLngrnlkozov57nur/vvIxhbGxFZGdlc+ihqOekuum8oOagh+WIkuWIsOiKgueCueS4iueCueS6ruiKgueCueS4iueahOi/nue6v+WPiui/nue6v+WvueW6lOeahOiKgueCuQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMCwKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICJyZ2JhKDI1NSwyNTUsMjU1LC44KSIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3NvdXJjZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnZlbmVzczogMC41CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsqLwogICAgICAgICAgICBjb25zdCBvcHRpb249ewogICAgICAgICAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICdheGlzJywKICAgICAgICAgICAgICAgICAgICBheGlzUG9pbnRlcjogewogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDAsMCwwLDAuMiknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc29saWQnCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9LAoKICAgICAgICAgICAgICAgIGxlZ2VuZDogewogICAgICAgICAgICAgICAgICAgIGRhdGE6IFsn5Lit5Zu9JywgJ+aXpeacrCcsICfpn6nlm70nLCAn5YW25LuWJ10sCiAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOnsKICAgICAgICAgICAgICAgICAgICAgICAgLy/lrZfkvZPpopzoibIKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6JyNmZmYnLAogICAgICAgICAgICAgICAgICAgICAgICAvL+Wtl+S9k+mjjuagvAogICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6J25vcm1hbCcsCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5a2X5L2T5aSn5bCPCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc2luZ2xlQXhpczogewogICAgICAgICAgICAgICAgICAgIHRvcDogNTAsCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiA1MCwKICAgICAgICAgICAgICAgICAgICBheGlzVGljazoge30sCiAgICAgICAgICAgICAgICAgICAgYXhpc0xhYmVsOiB7fSwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGltZScsCiAgICAgICAgICAgICAgICAgICAgYXhpc1BvaW50ZXI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFzaGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICAgICBkYXRhWm9vbTogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NsaWRlcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMzEsIDEwOCwgMTE3LCAuMSknLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsZXJDb2xvcjogJ3JnYmEoMTgsIDM4LCAxMDYsIC42KScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogNSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSgxOCwgMzgsIDEwNiwgLjUpJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlSWNvbjogJ2ltYWdlOi8vZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJ6ZEdGdVpHRnNiMjVsUFNKdWJ5SS9QandoUkU5RFZGbFFSU0J6ZG1jZ1VGVkNURWxESUNJdEx5OVhNME12TDBSVVJDQlRWa2NnTVM0eEx5OUZUaUlnSW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTDBkeVlYQm9hV056TDFOV1J5OHhMakV2UkZSRUwzTjJaekV4TG1SMFpDSStQSE4yWnlCMFBTSXhOVGt4T1RRNE9UZ3pNell6SWlCamJHRnpjejBpYVdOdmJpSWdkbWxsZDBKdmVEMGlNQ0F3SURFd01qUWdNVEF5TkNJZ2RtVnljMmx2YmowaU1TNHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSEF0YVdROUlqTXdNREF3SWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUlnZDJsa2RHZzlJakl3TUNJZ2FHVnBaMmgwUFNJeU1EQWlQanhrWldaelBqeHpkSGxzWlNCMGVYQmxQU0owWlhoMEwyTnpjeUkrUEM5emRIbHNaVDQ4TDJSbFpuTStQSEJoZEdnZ1pEMGlUVFV4TWlBd1lUVXhNaUExTVRJZ01DQXhJREFnTlRFeUlEVXhNa0UxTVRJZ05URXlJREFnTUNBd0lEVXhNaUF3ZWlCdExUUTBMalE0SURZMU5tRTBOQzQwT0NBME5DNDBPQ0F3SURFZ01TMDRPUzR4TWlBd1ZqTTJPR0UwTkM0ME9DQTBOQzQwT0NBd0lERWdNU0E0T1M0eE1pQXdkakk0T0hvZ2JURTNPQzR3T0NBd1lUUTBMalE0SURRMExqUTRJREFnTVNBeExUZzVMakV5SURCV016WTRZVFEwTGpRNElEUTBMalE0SURBZ01TQXhJRGc1TGpFeUlEQjJNamc0ZWlJZ1ptbHNiRDBpSXpGbE0yWm1ZU0lnY0MxcFpEMGlNekF3TURFaVBqd3ZjR0YwYUQ0OEwzTjJaejQ9JywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0RldGFpbDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFN0eWxlOnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOicjMGZmJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5a2X5L2T6aOO5qC8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U3R5bGU6J25vcm1hbCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+Wtl+S9k+Wkp+WwjwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDonYm9sZCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSAsCiAgICAgICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgIHNlcmllczogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RoZW1lUml2ZXInLAogICAgICAgICAgICAgICAgICAgICAgICBlbXBoYXNpczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Qmx1cjogMjAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Q29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuOCknCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOlsnI2ZmMDAwMCcsJyNkZWM2NzQnLCcjNjQ5NUVEJywnIzhBMkJFMiddLAogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhTGlzdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXlDaGFydCA9IGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Fua2V5JyksICdsaWdodCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlDaGFydC5zZXRPcHRpb24ob3B0aW9uKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBtb3VudGVkKCkgewogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuaW5pdENoYXJ0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9Cg=="},{"version":3,"sources":["sankey.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sankey.vue","sourceRoot":"src/page/ranking/components","sourcesContent":["<template>\n    <div id=\"sankey\">\n\n    </div>\n</template>\n\n<script>\n    import _ from 'lodash'\n    import echarts from 'echarts/lib/echarts';\n    import 'echarts/lib/chart/sankey'\n    import TrackJSON from '@/data/track'\n    // import { scaleLinear } from 'd3'\n    console.log(\"fasdfasdfsdf\")\n    /*\n    window.onload=function(){\n        var url=\"./history_ranking.json\";\n        var request=new XMLHttpRequest();\n        request.open(\"get\",url);\n        request.send(null);\n        request.onload=function(){\n            if(request.status==200){\n                var json=JSON.parse(request.responseText);\n                console.log(json)\n            }\n        }\n\n    }*/\n    import history_ranking from \"./history_ranking.json\"\n\n    /*json文件url，本地的就写本地的位置，如果是服务器的就写服务器的路径*/\n    //console.log(history_ranking)\n\n    var CHlist=[42];\n    var JPlist=[42];\n    var KOlist=[42];\n    var OTlist=[43];\n    var i;\n    for(var js in history_ranking){\n        var templist=history_ranking[js];\n        var CH=0;\n        var JP=0;\n        var KO=0;\n        for(i=0;i<templist.length;i++){\n            if(templist[i].country==\"日本\"){\n                JP=JP+1;\n            }\n            else if(templist[i].country==\"中国\"){\n                CH=CH+1;\n            }\n            else if(templist[i].country==\"韩国\"){\n                KO=KO+1;\n            }\n        }\n        CHlist[parseInt(js)-1980]=CH;\n        JPlist[parseInt(js)-1980]=JP;\n        KOlist[parseInt(js)-1980]=KO;\n        OTlist[parseInt(js)-1980]=100-CH-JP-KO;\n\n    }\n    //console.log(CHlist)\n    //console.log(JPlist)\n    //console.log(KOlist)\n    //console.log(OTlist)\n    //var ttlist=[];\n    var TimeList=[42];\n    for(i=0;i<42;i++){\n        TimeList[i]=(i+1980).toString()+\"-01-01\";\n    }\n    //console.log(TimeList)\n    var dataList=[[]];\n    //var num=0;\n    for(i=0;i<42;i++){\n        var ttlist=[];\n        ttlist[0]=TimeList[i];\n        ttlist[1]=CHlist[i];\n        ttlist[2]=\"中国\";\n        dataList[i]=ttlist;\n        \n    }\n    for(i=0;i<42;i++){\n       \n        ttlist[0]=TimeList[i];\n        ttlist[1]=JPlist[i];\n        ttlist[2]=\"日本\";\n        dataList[i+42]=ttlist;\n        \n    }\n    for(i=0;i<42;i++){\n        \n        ttlist[0]=TimeList[i];\n        ttlist[1]=KOlist[i];\n        ttlist[2]=\"韩国\";\n        dataList[i+84]=ttlist;\n        \n    }\n    for(i=0;i<42;i++){\n       \n        ttlist[0]=TimeList[i];\n        ttlist[1]=OTlist[i];\n        ttlist[2]=\"其他\";\n        dataList[i+126]=ttlist;\n        \n    }\n    console.log(dataList);\n    const DIM = ['age_range', 'xb','period','origin', 'tran', ]\n    const ITEM_STYLE = {\n        xb(){\n            return {\n                '男': {\n                    color: '#3a7ba5',\n                },\n                '女': {\n                    color: '#9d4da7',\n                },\n            }\n        }\n    }\n\n    const TRAN_ORDER = {\n        '私家/专车': 0,\n        '出租车': 1,\n        '3A109航船': 2,\n        '深圳湾口岸': 3,\n        '航空': 4,\n        '不明': 5,\n    }\n\n    const SORT_FUN = {\n        'age_range': data => {\n            return _.orderBy(data, d => {\n                switch(d.name) {\n                    case '婴幼儿/青少年(0~15)': return 0\n                    case '青年(16~30)': return 1\n                    case '中青年(30~45)': return 2\n                    case '中年(45~60)': return 3\n                    case '老年(>60)': return 4\n                }\n            })\n        },\n        'origin': data => {\n            return data.sort(a => COUNTRY.indexOf(a.name) !== -1 ? 1 : -1)\n        },\n        'tran': data => {\n            return _.orderBy(data, d => TRAN_ORDER[d.name])\n        },\n        'period': data => {\n            return _.orderBy(data, d => {\n                switch(d.name) {\n                    case '疫情初期(~1/23)': return 0\n                    case '发展期(1/23~2/6)': return 1\n                    case '国内二次传播期(2/6~2/20)': return 2\n                    case '国外输入期(2/20~)': return 3\n                }\n            })\n        }\n    }\n\n    const COUNTRY = [\"巴西\", \"法国\", \"柬埔寨\", \"澳门\", \"荷兰\",\n        \"菲律宾\", \"俄罗斯\", \"新加坡\", \"西班牙\", \"瑞士\", \"泰国\",\n        \"英国\", \"美国\"]\n\n    const getAgeCategory = age => {\n        if (age >= 0 && age <= 15) {\n            return '婴幼儿/青少年(0~15)'\n        }\n        if (age > 15 && age <= 30) {\n            return '青年(16~30)'\n        }\n        if (age > 30 && age <= 45) {\n            return '中青年(30~45)'\n        }\n        if (age > 45 && age <= 60) {\n            return '中年(45~60)'\n        }\n        if (age > 60) {\n            return '老年(>60)'\n        }\n    }\n\n    const ChinaPeriod = ['2020/1/23', '2020/2/6', '2020/2/20']\n        .map(d => new Date(d).getTime())\n\n    const getPeriod = date => {\n        const newDate = new Date(date).getTime()\n        if (newDate <= ChinaPeriod[0]) {\n            return '疫情初期(~1/23)'\n        }\n        if (newDate > ChinaPeriod[0] && newDate < ChinaPeriod[1]) {\n            return '发展期(1/23~2/6)'\n        }\n        if (newDate > ChinaPeriod[1] && newDate < ChinaPeriod[2]) {\n            return '国内二次传播期(2/6~2/20)'\n        }\n        if (newDate >= ChinaPeriod[2]) {\n            return '国外输入期(2/20~)'\n        }\n        \n    }\n\n    // const scale = scaleLinear()\n    //     .domain([1, 200])\n    //     .range(['#87cc7c', '#966d4b','#935740', '#69277e', '#9d4da7'])\n\n    export default {\n        name: 'SanKey',\n        methods: {\n            getNodes(data) {\n                return DIM.reduce((arr, key) => {\n                    const styles = ITEM_STYLE[key] && ITEM_STYLE[key]() || {}\n                    let tempArr =  _.chain(data)\n                        .map(d => {\n                            return {\n                                name: d[key],\n                                itemStyle: styles[d[key]],\n                            }\n                        })\n                        .uniqBy('name')\n                        .value()\n                        tempArr = SORT_FUN[key] ? SORT_FUN[key](tempArr) : tempArr\n                    return arr.concat(tempArr)\n                }, [])\n            },\n            getLinks(data) {\n                const links = [];\n                DIM.forEach((d, i, arr) => {\n                    if (i === arr.length - 1) return\n                    data.forEach(d1 => {\n                        const source = d1[d]\n                        const target = d1[arr[i + 1]]\n                        const value = data.filter(d2 => d2[d] === source\n                            && d2[arr[i + 1]] === target\n                            ).length\n                        links.push({\n                            source,\n                            target,\n                            value,\n                            lineStyle: {\n                                // color: scale(value),\n                            },\n                        })\n                    })\n                })\n\n                return _.uniqWith(links, _.isEqual)\n            },\n            initData() {\n                const data = _.chain(TrackJSON)\n                    // .slice(0, 400)\n                    .filter(d => d.track.length)\n                    .map(d => {\n                        const {track, nl} = d\n                        let tran = track.length ? track[track.length - 1].tran : ''\n                        tran = tran.indexOf('航班') !== -1 ? '航空' : tran\n                        tran = /(私家)|(自驾)|(专车)|(商务车)/.test(tran) ? '私家/专车' : tran\n                        tran = /(的士)|(出租车)/.test(tran) ? '出租车' : tran\n                        const age_range = getAgeCategory(+nl)\n                        return _.pick({\n                            ...d,\n                            tran: tran || '不明',\n                            age_range,\n                            period: getPeriod(d.track[d.track.length - 1].time)\n                        },\n                        DIM\n                        )\n                    })\n                    .value()\n                //console.log('data'+data[0])\n                const nodes = this.getNodes(data)\n                const links = this.getLinks(data)\n                console.log('nodes'+nodes[0])\n                console.log('data'+data[0])\n                return {nodes, links}\n            },\n            initChart() {\n                //const { nodes, links } = this.initData()\n                \n               /* const option = {\n                    color: ['#87cc7c', '#966d4b', '#935740', '#69277e', '#9d4da7'],\n                    tooltip: {\n                        trigger: \"item\",\n                        triggerOn: \"mousemove\"\n                    },\n                    series: {\n                        type: \"sankey\",\n                        left: 10,\n                        right: 50,\n                        nodeGap: 1,\n                        layoutIterations: 0,\n                        data: nodes, // 节点\n                        links: links, // 节点之间的连线\n                        draggable: false,\n                        focusNodeAdjacency: \"allEdges\", // 鼠标划上时高亮的节点和连线，allEdges表示鼠标划到节点上点亮节点上的连线及连线对应的节点\n                        label: {\n                            fontSize: 10,\n                            color: \"rgba(255,255,255,.8)\"\n                        },\n                        lineStyle: {\n                            color: 'source',\n                            curveness: 0.5\n                        },\n                    }\n                };*/\n                const option={\n                    tooltip: {\n                        trigger: 'axis',\n                        axisPointer: {\n                            type: 'line',\n                            lineStyle: {\n                                color: 'rgba(0,0,0,0.2)',\n                                width: 1,\n                                type: 'solid'\n                            },\n                            \n                        },\n                    },\n\n                    legend: {\n                        data: ['中国', '日本', '韩国', '其他'],\n                        textStyle:{\n                            //字体颜色\n                            color:'#fff',\n                            //字体风格\n                            fontStyle:'normal',\n                            //字体大小\n                            \n                            \n                        },\n                    },\n                    \n                    singleAxis: {\n                        top: 50,\n                        bottom: 50,\n                        axisTick: {},\n                        axisLabel: {},\n                        type: 'time',\n                        axisPointer: {\n                            animation: true,\n                            label: {\n                                show: true\n                            }\n                        },\n                        \n                     splitLine: {\n                            show: true,\n                            lineStyle: {\n                                type: 'dashed',\n                                opacity: 0.2\n                            }\n                        }\n                    },\n\n                    dataZoom: [{\n                                        type: 'slider',\n                                        backgroundColor: 'rgba(31, 108, 117, .1)',\n                                        fillerColor: 'rgba(18, 38, 106, .6)',\n                                        height: 15,\n                                        bottom: 5,\n                                        left: 'center',\n                                        borderColor: 'rgba(18, 38, 106, .5)',\n                                        handleIcon: 'image://data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTkxOTQ4OTgzMzYzIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMwMDAwIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUxMiAwYTUxMiA1MTIgMCAxIDAgNTEyIDUxMkE1MTIgNTEyIDAgMCAwIDUxMiAweiBtLTQ0LjQ4IDY1NmE0NC40OCA0NC40OCAwIDEgMS04OS4xMiAwVjM2OGE0NC40OCA0NC40OCAwIDEgMSA4OS4xMiAwdjI4OHogbTE3OC4wOCAwYTQ0LjQ4IDQ0LjQ4IDAgMSAxLTg5LjEyIDBWMzY4YTQ0LjQ4IDQ0LjQ4IDAgMSAxIDg5LjEyIDB2Mjg4eiIgZmlsbD0iIzFlM2ZmYSIgcC1pZD0iMzAwMDEiPjwvcGF0aD48L3N2Zz4=',\n                                        showDetail: true,\n                                        textStyle:{\n                                            color:'#0ff',\n                                            //字体风格\n                                            fontStyle:'normal',\n                                            //字体大小\n                                            fontWeight:'bold'\n                                        }\n                                        \n                                    }] ,\n                            \n\n                    series: [\n                        {\n                            type: 'themeRiver',\n                            emphasis: {\n                                itemStyle: {\n                                    shadowBlur: 20,\n                                    shadowColor: 'rgba(0, 0, 0, 0.8)'\n                                }\n                            },\n                            color:['#ff0000','#dec674','#6495ED','#8A2BE2'],\n                            data: dataList\n                                }\n                            ]\n                        };                    \n                                const myChart = echarts.init(document.getElementById('sankey'), 'light');\n                                myChart.setOption(option)\n                            }\n                        },\n                        mounted() {\n                            setTimeout(this.initChart);\n                        }\n                    }\n</script>\n\n<style lang=\"less\" scoped>\n    #sankey{\n        height: 600px;\n    }\n</style>"]}]}